## Time模块

#### 当前时间

```python
# 使用time模块
import time
current_time = time.strftime("%Y-%m-%d %H%M%S", time.localtime())

# 使用datetime模块
import datetime
current_time = datetime.datetime.now().strftime("%Y-%m-%d %H%M%S")
```

## OS模块

#### 当前文件路径

```python
# 当前文件的绝对路径
print(os.path.realpath(__file__))
print(os.path.abspath(__file__))
# C:\Users\Spade_\PycharmProjects\Log\logging.py
# C:\Users\Spade_\PycharmProjects\Log\logging.py


# 当前文件目录的路径
print(os.path.dirname(os.path.realpath(__file__)))
print(os.path.split(os.path.realpath(__file__))[0])
# C:\Users\Spade_\PycharmProjects\Log
# C:\Users\Spade_\PycharmProjects\Log


# 此目录下的路径
print(os.path.realpath('./'))
print(os.path.abspath('./'))
# C:\Users\Spade_\PycharmProjects\Log
# C:\Users\Spade_\PycharmProjects\Log
```

#### 递归生成文件夹

```python
# exist_ok=True：文件夹存在时，不会产生OSError7异常
os.makedirs('dir_name', exist_ok=True)
```

#### 连接路径

```python
print(os.path.join("C:\\users", 'log_output', 'abc.txt'))
# C:\users\log_output\abc.txt
```

## str模块

#### 字符串连接操作

别再使用"+"号连接你的字符串了，这会耗费很多时间空间。优雅的字符串连接，能让你的代码更具有可读性，同时还能优化时间问题。

```python
country, city, street = '中国', '深圳市', '南山区'

# f-string连接字符串，速度最快
address = f"{country}.{city}.{street}"

# ''.join连接字符串
address = '.'.join([country, city, street])

# %s连接字符串
address = '%s.%s.%s' % (country, city, street)

# %(name)s键值对连接字符串
address = '%(COUNTRY)s.%(CITY)s.%(STREET)s' % {'COUNTRY': country, 'CITY': city, 'STREET': street}
```

## 读写文件

三种文件读取方式。按行读取文件、按行读取并跳过某些行、一次读取文件。

```python
def read_file_by_line(file):
    """ 按行读取，遇到空行退出 """
    with open(file, mode='r', encoding='utf8') as f:
        while True:
            one_line = f.readline().strip()
            if not one_line:
                return
            yield one_line


def read_file_by_line_skip(file, startwith=None):
    """ 按行读取，跳过以startwith开头的行，遇到空行退出 """
    with open(file, mode='r', encoding='utf8') as f:
        while True:
            one_line = f.readline().strip()
            while one_line.startswith(startwith):
                one_line = f.readline().strip()
            if not one_line:
                return
            yield one_line


def read_file_by_total(file):
    """ 一次读取整个文件 """
    with open(file, mode='r', encoding='utf8') as f:
        return f.read()
```

